{
  "bindings": [
    {
      "authLevel": "anonymous",
      "type": "httpTrigger",
      "direction": "in",
      "name": "req",
      "methods": [ "post" ],
      "route": "guess/{gameId}"
    },
    {
      "type": "http",
      "direction": "out",
      "name": "res"
    },
    {
      "type": "sql",
      "direction": "in",
      "name": "gameId",
      "commandText": "select * from Game where id = @Id",
      "commandType": "Text",
      "parameters": "@Id = {route.gameId}",
      "connectionStringSetting": "SqlConnectionString"
    },
    {
      "type": "sql",
      "direction": "out",
      "name": "updated_game",
      "commandText": "update Game set tries = @tries, done_at = @done_at where id = @id",
      "commandType": "Text",
      "connectionStringSetting": "SqlConnectionString"
    }
  ]
}
